import{g as U,f as N,a4 as j,m as O,h as _,T as V,k as E,_ as y,r as R,o as z,p as H,a5 as P,a6 as q,j as i,q as G,t as K,w as o,u as J,H as S,c as d,a7 as b,U as Q,F as X,G as k,I as Y}from"./index-EnPrJr02.js";import{M as Z}from"./MenuItem-gNbPiUhw.js";function w(r){return N("MuiLink",r)}const ee=U("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),te=ee,L={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},re=r=>L[r]||r,se=({theme:r,ownerState:s})=>{const n=re(s.color),a=j(r,`palette.${n}`,!1)||s.color,c=j(r,`palette.${n}Channel`);return"vars"in r&&c?`rgba(${c} / 0.4)`:O(a,.4)},ne=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],ie=r=>{const{classes:s,component:n,focusVisible:a,underline:c}=r,l={root:["root",`underline${E(c)}`,n==="button"&&"button",a&&"focusVisible"]};return K(l,w,s)},oe=_(V,{name:"MuiLink",slot:"Root",overridesResolver:(r,s)=>{const{ownerState:n}=r;return[s.root,s[`underline${E(n.underline)}`],n.component==="button"&&s.button]}})(({theme:r,ownerState:s})=>y({},s.underline==="none"&&{textDecoration:"none"},s.underline==="hover"&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},s.underline==="always"&&y({textDecoration:"underline"},s.color!=="inherit"&&{textDecorationColor:se({theme:r,ownerState:s})},{"&:hover":{textDecorationColor:"inherit"}}),s.component==="button"&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${te.focusVisible}`]:{outline:"auto"}})),ae=R.forwardRef(function(s,n){const a=z({props:s,name:"MuiLink"}),{className:c,color:l="primary",component:m="a",onBlur:f,onFocus:g,TypographyClasses:v,underline:h="always",variant:e="inherit",sx:t}=a,x=H(a,ne),{isFocusVisibleRef:u,onBlur:C,onFocus:D,ref:M}=P(),[A,T]=R.useState(!1),$=q(n,M),I=p=>{C(p),u.current===!1&&T(!1),f&&f(p)},W=p=>{D(p),u.current===!0&&T(!0),g&&g(p)},F=y({},a,{color:l,component:m,focusVisible:A,underline:h,variant:e}),B=ie(F);return i.jsx(oe,y({color:l,className:G(B.root,c),classes:v,component:m,onBlur:I,onFocus:W,ref:$,ownerState:F,variant:e,sx:[...Object.keys(L).includes(l)?[]:[{color:l}],...Array.isArray(t)?t:[t]]},x))}),ce=ae,le=()=>{const r=o(s=>{var n;return(n=s.recipesState.currentRecipeDescription)==null?void 0:n.source});return i.jsxs(i.Fragment,{children:[r?i.jsx(ce,{href:r,children:"Перейти к источнику рецепта"}):null,i.jsx(V,{marginTop:2,children:o(s=>{var n;return(n=s.recipesState.currentRecipeDescription)==null?void 0:n.description})})]})},ue=Y(),pe=()=>{const r=J(),s=o(e=>e.recipesState.categories),n=o(e=>e.recipesState.tags),a=o(e=>{var t;return(t=e.recipesState)==null?void 0:t.currentRecipeDescription}),c=o(e=>{var t;return(t=e.recipesState.currentRecipeDescription)==null?void 0:t.tags[0]});R.useEffect(()=>{r(S(c||null))},[a,c,r]);const l=o(e=>{var t;return(t=e.recipesState.editableRecipeDescription)==null?void 0:t.name}),m=o(e=>{var t;return(t=e.recipesState.editableRecipeDescription)==null?void 0:t.categoryId}),f=o(e=>e.recipesState.selectedTagValue),g=o(e=>{var t;return(t=e.recipesState.editableRecipeDescription)==null?void 0:t.source}),v=o(e=>{var t;return(t=e.recipesState.editableRecipeDescription)==null?void 0:t.description}),h=o(e=>e.recipesState.recipeFieldErrorText);return i.jsxs(i.Fragment,{children:[i.jsx(d,{type:"search",fullWidth:!0,id:"recipeTitle",name:"recipeTitle",variant:"standard",label:"Название",value:l,error:!!h&&!l,helperText:h,onChange:e=>{r(b({name:e.target.value})),r(Q(""))},sx:{mt:1}}),i.jsx(d,{select:!0,fullWidth:!0,id:"selectedCategory",name:"selectedCategory",variant:"standard",label:"Категория",value:m,onChange:e=>{r(b({categoryId:e.target.value}))},sx:{mt:1},children:s.map((e,t)=>i.jsx(Z,{value:e.id,children:e.name},t))}),i.jsx(X,{freeSolo:!0,fullWidth:!0,autoFocus:!0,selectOnFocus:!0,clearOnBlur:!0,handleHomeEndKeys:!0,value:f,onChange:(e,t)=>{typeof t=="string"?r(k(t)):t&&t.inputValue?r(k(t.inputValue)):r(S(t))},filterOptions:(e,t)=>{const x=ue(e,t),{inputValue:u}=t,C=e.some(D=>u===D.name);return u!==""&&!C&&x.push({inputValue:u,name:`Добавляем "${u}"`}),x},options:n,getOptionLabel:e=>typeof e=="string"?e:e.inputValue?e.inputValue:e.name,renderInput:e=>i.jsx(d,{...e,id:"selectedTag",name:"selectedTag",label:"#хештег",variant:"standard"})}),i.jsx(d,{type:"search",fullWidth:!0,id:"recipeUrl",name:"recipeUrl",variant:"standard",label:"Ссылка на первоисточник",value:g,onChange:e=>{r(b({source:e.target.value}))},sx:{mt:1}}),i.jsx(d,{multiline:!0,fullWidth:!0,id:"recipeDescription",name:"recipeDescription",variant:"standard",label:"Описание рецепта",value:v,onChange:e=>{r(b({description:e.target.value}))},sx:{mt:1,resize:"vertical"}})]})},fe=()=>o(s=>s.recipesState.isEditMode)?i.jsx(pe,{}):i.jsx(le,{});export{fe as default};
