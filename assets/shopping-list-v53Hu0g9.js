import{g as z,f as F,h as S,B as A,i as R,k as w,_ as p,r as h,o as $,p as E,j as s,q as j,t as G,u as _,a as M,as as I,w as W,C as D,S as N,x as g,T as C,at as L,au as T,c as V,av as B,L as P,M as U}from"./index-s1KOlm6Q.js";import{D as J}from"./dialog-H7m5tpAb.js";import{C as O}from"./Container-4EDxKSLH.js";const H={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",A100:"#ffe57f",A200:"#ffd740",A400:"#ffc400",A700:"#ffab00"},y=H;function q(e){return F("MuiFab",e)}const K=z("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),k=K,Q=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],X=e=>{const{color:a,variant:o,classes:l,size:t}=e,n={root:["root",o,`size${w(t)}`,a==="inherit"?"colorInherit":a]},f=G(n,q,l);return p({},l,f)},Y=S(A,{name:"MuiFab",slot:"Root",shouldForwardProp:e=>R(e)||e==="classes",overridesResolver:(e,a)=>{const{ownerState:o}=e;return[a.root,a[o.variant],a[`size${w(o.size)}`],o.color==="inherit"&&a.colorInherit,a[w(o.size)],a[o.color]]}})(({theme:e,ownerState:a})=>{var o,l;return p({},e.typography.button,{minHeight:36,transition:e.transitions.create(["background-color","box-shadow","border-color"],{duration:e.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(e.vars||e).zIndex.fab,boxShadow:(e.vars||e).shadows[6],"&:active":{boxShadow:(e.vars||e).shadows[12]},color:e.vars?e.vars.palette.text.primary:(o=(l=e.palette).getContrastText)==null?void 0:o.call(l,e.palette.grey[300]),backgroundColor:(e.vars||e).palette.grey[300],"&:hover":{backgroundColor:(e.vars||e).palette.grey.A100,"@media (hover: none)":{backgroundColor:(e.vars||e).palette.grey[300]},textDecoration:"none"},[`&.${k.focusVisible}`]:{boxShadow:(e.vars||e).shadows[6]}},a.size==="small"&&{width:40,height:40},a.size==="medium"&&{width:48,height:48},a.variant==="extended"&&{borderRadius:48/2,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},a.variant==="extended"&&a.size==="small"&&{width:"auto",padding:"0 8px",borderRadius:34/2,minWidth:34,height:34},a.variant==="extended"&&a.size==="medium"&&{width:"auto",padding:"0 16px",borderRadius:40/2,minWidth:40,height:40},a.color==="inherit"&&{color:"inherit"})},({theme:e,ownerState:a})=>p({},a.color!=="inherit"&&a.color!=="default"&&(e.vars||e).palette[a.color]!=null&&{color:(e.vars||e).palette[a.color].contrastText,backgroundColor:(e.vars||e).palette[a.color].main,"&:hover":{backgroundColor:(e.vars||e).palette[a.color].dark,"@media (hover: none)":{backgroundColor:(e.vars||e).palette[a.color].main}}}),({theme:e})=>({[`&.${k.disabled}`]:{color:(e.vars||e).palette.action.disabled,boxShadow:(e.vars||e).shadows[0],backgroundColor:(e.vars||e).palette.action.disabledBackground}})),Z=h.forwardRef(function(a,o){const l=$({props:a,name:"MuiFab"}),{children:t,className:n,color:f="default",component:b="button",disabled:c=!1,disableFocusRipple:m=!1,focusVisibleClassName:d,size:r="large",variant:i="circular"}=l,x=E(l,Q),v=p({},l,{color:f,component:b,disabled:c,disableFocusRipple:m,size:r,variant:i}),u=X(v);return s.jsx(Y,p({className:j(u.root,n),component:b,disabled:c,focusRipple:!m,focusVisibleClassName:j(u.focusVisible,d),ownerState:v,ref:o},x,{classes:u,children:t}))}),ee=Z,te=()=>{const[e,a]=h.useState(!1),[o,l]=h.useState(!1),[t,n]=h.useState(JSON.parse(localStorage.getItem("_recipesExtraGoods")??'""')||[]),f=r=>{const i=r.target.value,x=i!==""?i.split(`
`):[];n(x)},b=()=>{o?(localStorage.setItem("_recipesExtraGoods",JSON.stringify(t)),l(!1)):l(!0)},c=_(),m=M();h.useEffect(()=>{c(I())},[c]);const d=W(r=>r.recipesState.wishlist);return s.jsxs("div",{className:"flex flex-col mx-auto max-w-md min-h-dvh border",children:[s.jsxs("header",{className:"header-footer-link top-0",children:[s.jsx("button",{className:"flex",onClick:()=>{m(-1)},children:s.jsx("span",{className:" text-amber-500 text-3xl material-symbols-outlined",children:"arrow_back"})}),s.jsx("h2",{className:"leading-3  text-xl",children:"Список покупок"})]}),s.jsxs(O,{component:"main",className:"bg-link grow relative overflow-y-scroll",children:[s.jsx(D,{}),s.jsx("ul",{className:"mt-2 mb-4 px-7  flex flex-wrap justify-between",children:!!d&&d.map((r,i)=>s.jsxs(N,{className:"w-full h-12 overflow-hidden flex justify-between items-center",creativeEffect:{prev:{shadow:!0,translate:[0,0,-400]},next:{translate:["100%",0,0]}},children:[s.jsx(g,{className:"w-full flex items-center grow overflow-hidden",children:s.jsx(C,{children:r.name})}),s.jsx(g,{className:" flex flex-row justify-between items-center",children:s.jsx("button",{className:"w-full flex justify-center items-center",children:s.jsx("span",{onClick:()=>c(L(r.id)),className:"text-amber-500 text-3xl material-symbols-outlined",children:"delete"})})})]},`${i} - ${r.id}`))}),t.length&&!o?s.jsx(T,{"aria-hidden":"true",children:"а ещё нужно купить..."}):null,o?s.jsx(V,{multiline:!0,fullWidth:!0,id:"extraGoods",name:"extraGoods",variant:"standard",label:"а ещё нужно купить...",value:t&&t.join(`
`),onChange:f,sx:{mt:1,resize:"vertical"}}):s.jsx("ul",{className:"mt-2 mb-4 px-7  flex flex-wrap justify-between",children:!!t&&t.map((r,i)=>s.jsxs(N,{className:"w-full h-12 overflow-hidden flex justify-between items-center",creativeEffect:{prev:{shadow:!0,translate:[0,0,-400]},next:{translate:["100%",0,0]}},children:[s.jsx(g,{className:"w-full flex items-center grow overflow-hidden",children:s.jsx(C,{children:r})}),s.jsx(g,{className:" flex flex-row justify-between items-center",children:s.jsx("button",{className:"w-full flex justify-center items-center",children:s.jsx("span",{onClick:()=>{const x=t.filter((v,u)=>i!==u);n(x),localStorage.setItem("_recipesExtraGoods",JSON.stringify(x))},className:"text-amber-500 text-3xl material-symbols-outlined",children:"delete"})})})]},r+i))}),s.jsx(ee,{onClick:b,size:"small",sx:{position:"absolute",bottom:16,right:16,backgroundColor:y.A700,"&:hover":{backgroundColor:y.A700}},children:o?s.jsx("span",{className:"material-symbols-outlined text-white text-3xl",children:"done"}):s.jsx("span",{className:"material-symbols-outlined text-white text-3xl",children:"add"})})]}),s.jsxs("footer",{className:"header-footer-link bottom-0 ",children:[s.jsx("button",{className:"leading-3  text-xl",onClick:()=>{(d.length||t.length)&&a(!0)},children:"Очистить"}),s.jsx(J,{show:e,setShow:a,dialogMessage:"Список покупок будет очищен!",dialogAction:{remote:!!d.length,remoteAction:B,local:!!t.length,localAction:n}}),s.jsx(P,{to:"/favorites",children:s.jsx("span",{className:"flex text-amber-500 text-3xl material-symbols-outlined",children:"favorite"})})]}),s.jsx(U,{})]})};export{te as default};
