import{f as j,g,h as R,_ as u,r as p,o as F,p as b,ab as I,ac as S,j as s,q as v,t as C,u as h,A as y,ad as G,w as m,ae as N,af as E,ag as M,ah as D,S as U,x,c as _,ai as k,aj as L,ak as P,al as $}from"./index-NQcnBVEJ.js";import{p as A,R as f}from"./index-zEBb2vpe.js";function O(e){return j("MuiFormGroup",e)}g("MuiFormGroup",["root","row","error"]);const T=["className","row"],W=e=>{const{classes:t,row:n,error:o}=e;return C({root:["root",n&&"row",o&&"error"]},O,t)},q=R("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.row&&t.row]}})(({ownerState:e})=>u({display:"flex",flexDirection:"column",flexWrap:"wrap"},e.row&&{flexDirection:"row"})),B=p.forwardRef(function(t,n){const o=F({props:t,name:"MuiFormGroup"}),{className:r,row:i=!1}=o,a=b(o,T),c=I(),d=S({props:o,muiFormControl:c,states:["error"]}),l=u({},o,{row:i,error:d.error}),w=W(l);return s.jsx(q,u({className:v(w.root,r),ownerState:l,ref:n},a))}),V=B,z=()=>{const e=h(),{id:t}=y();p.useEffect(()=>{e(G(String(t)))},[e,t]);const n=m(r=>r.recipesState.currentRecipeIngredients),o=(r,i)=>{r.target.checked?e(M(i)):e(D(i))};return s.jsx(V,{children:!!n&&n.map(r=>s.jsx(N,{control:s.jsx(E,{name:`${r.id}`,onChange:i=>{o(i,r)}}),label:r.name},r.id))})},H=()=>{const e=h(),[t,n]=p.useState(""),o=m(a=>a.recipesState.currentRecipeIngredients),r=A(e,400),i=a=>{e(P(a)),r($({recipeId:a[0].recipeId,ids:a.map(c=>c.id)}))};return s.jsx(f.Group,{as:"ol",axis:"y",values:o,onReorder:i,children:!!o&&o.map(a=>{const{id:c,name:d}=a;return s.jsx(f.Item,{value:a,children:s.jsxs(U,{className:"w-full h-12 overflow-hidden flex justify-between items-center",creativeEffect:{prev:{shadow:!0,translate:[0,0,-400]},next:{translate:["100%",0,0]}},children:[s.jsxs(x,{className:" flex flex-row justify-between items-center",children:[s.jsx(_,{variant:"standard",InputProps:{disableUnderline:!0},id:`ingredient${c}`,name:`ingredient${c}`,defaultValue:d==="Новый ингредиент"?"":d,placeholder:"Новый ингредиент",sx:{flexGrow:1,overflow:"hidden"},onFocus:l=>{n(l.target.value)},onBlur:l=>{t!=l.target.value&&e(k({id:c,name:l.target.value}))}}),s.jsx("span",{className:" material-symbols-outlined text-3xl text-gray-400",children:"drag_handle"})]}),s.jsx(x,{className:" flex flex-row justify-between items-center",children:s.jsx("button",{className:"w-full flex justify-center items-center",children:s.jsx("span",{onClick:()=>{e(L(c))},className:"text-amber-500 text-3xl material-symbols-outlined",children:"delete"})})})]})},a.id)})})},Q=()=>m(t=>t.recipesState.isEditMode)?s.jsx(H,{}):s.jsx(z,{});export{Q as default};
