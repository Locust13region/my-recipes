import{u as x,A as m,r as h,an as f,w as p,j as e,T as R,S as v,x as o,c as g,ao as b,ap as E,aq as I,ar as w,a8 as y}from"./index-uu-O8Bnk.js";import{p as F,R as u}from"./index-MtiAjcP6.js";const N=()=>{const i=x(),{id:t}=m();h.useEffect(()=>{i(f(String(t)))},[i,t]);const n=p(r=>r.recipesState.currentRecipeSteps);return e.jsx(e.Fragment,{children:!!n.length&&n.map(r=>e.jsx(R,{sx:{mb:2},children:r.text},r.id))})},A=()=>{const i=m(),t=x(),[n,r]=h.useState(""),d=p(s=>s.recipesState.currentRecipeSteps),S=F(t,400),j=s=>{t(I(s)),S(w({recipeId:Number(i.id),ids:s.map(a=>a.id)}))};return e.jsx(u.Group,{as:"ol",axis:"y",values:d,onReorder:j,children:!!d&&d.map(s=>{const{id:a,text:l}=s;return e.jsx(u.Item,{value:s,children:e.jsxs(v,{creativeEffect:{prev:{shadow:!0,translate:[0,0,-400]},next:{translate:["100%",0,0]}},children:[e.jsx(o,{className:"h-full",children:e.jsx(g,{multiline:!0,fullWidth:!0,variant:"standard",InputProps:{disableUnderline:!0},id:`ingredient${a}`,name:`ingredient${a}`,defaultValue:l==="Новый этап"?"":l,placeholder:"Новый этап",sx:{resize:"vertical"},onFocus:c=>{r(c.target.value)},onBlur:c=>{n!=c.target.value&&t(b({id:a,text:c.target.value}))}})}),e.jsx(o,{className:"w-full h-auto flex justify-center items-center ",children:e.jsx("button",{className:" ",children:e.jsx("span",{onClick:()=>{t(E(a))},className:"text-amber-500 text-3xl material-symbols-outlined",children:"delete"})})})]})},s.id)})})},O=()=>p(t=>t.recipesState.isEditMode)?e.jsx(y,{children:e.jsx(A,{})}):e.jsx(N,{});export{O as default};
